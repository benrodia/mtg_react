// // IMPORTS

@import "library.less";
@import "main-styles.less";
@import "card-styles.less";
@import "modal-styles.less";


.tester {
  .zone {
    min-width: @cardW;
    .title {
      font-family: 'MTG-head';
      margin: @thin 0 @thinner;
      font-size: @smaller;
      color: @lighter;
      padding: @thinnest;
      .custom-select {
        background: transparent;
        .select-collapsed {
          color: @lighter;
          font-size: @small;
          padding: 0;
        }
        * {color: @darker;}
      }
    }
    .inner {
      .flex-row();
      height: 100%;
      width: 100%;
      box-shadow: inset 0 0 1rem rgba(0,0,0,0.5);
      .card-container {
        .card-img {
          box-shadow: 0 0 1rem rgba(0,0,0,0.5);
        }
        .card-controls > * {
          .hide();
          position: absolute;
          top: 0;
          z-index: 20;  
        }
        &:hover .card-controls > *, 
        .card-controls:hover 
        .card-controls>*:hover 
          {opacity: 1;pointer-events: all;}

        .mana-source {
          .flex-row();
          color: @darkest;
          max-width: @cardW;
          text-shadow: 0 0 1rem @lightest;
          white-space: nowrap;
          .tap-for {
            cursor: pointer;
            transition: .1s;
            transform-origin: 50%;
            &:hover {transform: scale(1.2);color: @highlight;}
          }
        }
        .add-counters {
          top: calc(@cardH - 4rem);
          z-index: 25;
        }
        .counters-display {
          top: @cardH;
          opacity: 1;
          pointer-events: all;
          color: @lightest;
          text-shadow: 0 0 1rem @darkest;
        }
      }
    }
  }

    .test-controls {
      .flex-row();
      position: fixed;
      top: 2rem;
      right: 0;
      z-index: 20;
      width: calc(100vw - (@cardW + 1rem));
      height: 1.5rem;
      justify-content: space-between;
      height: 1.5rem;
      color: @lightest;
      background: @dark;
      p {
        font-family: @header;
        margin-left: @thin;
        .flex-centered();
        justify-content: flex-start;
      }
      .counter {
        input {
          background: transparent;
          width: 2rem;
          color: @lightest;
          padding: 0;
          &:hover {color: @highlight;}
        }
        input[type=number] {-moz-appearance: textfield;}      
        input::-webkit-outer-spin-button,
        input::-webkit-inner-spin-button {
          -webkit-appearance: none;
          margin: 0;
        }
      }

      .mana-counters {
        .flex-row();
        .counter {
          input {width: 1rem;}
        }
      }
      .game-log {
        width: 20rem;
        background: rgba(0,0,0,.5);
        max-height: 15rem;
        overflow-y: auto;
        align-self: flex-start;
        border-radius: @thinnest;
        .log {
          .flex-row();
          justify-content: space-between;

          .timestamp {font-weight: bold;}
          .action {font-style: italic;}
          .undo {
            text-decoration: underline;
            cursor: pointer;
            &:hover {color: @red;}
          }
          padding: 0 @thin @thin;
          &:last-child {padding-bottom: 0;}
        }
      }
    }
  
  .side-col {
    position: fixed;
    top: 2rem;
    z-index: 40;
    left: 0;
    height: calc(100vh - 2rem);
    max-height: calc(100vh - 2rem);
    width: calc(@cardW + 1rem);
    padding: @thinner;
    .flex-col();
    justify-content: flex-end;
    background: @darker;
    .graveyard,
    .exile {
      flex: 1 0 3rem;
      .inner {
        max-height: 5rem;
        height: 5rem;
        flex-flow: column nowrap;
        overflow-y: scroll;
        overflow-x: hidden;
        font-size: @smaller;
        font-family: 'MTG-para';
        .drop-slot {
          flex: 1 0 1px;
          .header {
            padding: @thinnest @thin;
          }
        }
      }
    }
    .library-cont {
      display: flex;
      flex-flow: column-reverse;
        .card-container {
          animation: slide-in;
          animation-duration: .3s;
          animation-timing-function: ease-out;
          animation-iteration-count: 1;
          animation-play-state: forwards;
        }
    }
  }

  .library,.command {
    .inner {
      min-height: @cardH;
      min-width: @cardW;
    }
  }


  .hand {
    position: fixed;
    bottom: 0;
    right: 0;
    z-index: 30;
    height: @cardH;
    width: calc(100vw - (@cardW + 1rem));
    transition: .3s ease;
    .inner {
      box-shadow: none;
      background: rgba(0,0,0,0.5);
      .drop-slot {
        display: grid;
        grid-template-columns: repeat(auto-fit,minmax(@thinnest,max-content));
        .card-container {
          transform-origin: 50% 100%;
          animation: slide-in;
          animation-duration: .3s;
          animation-timing-function: ease-out;
          animation-iteration-count: 1;
          animation-play-state: forwards;
          &:hover {transform: scale(1.3) translateY(-1rem);}
        }
      }
    }
  }
  .battlefield {
    display: flex;
    flex-direction: column-reverse;
    position: fixed;
    top: 3.5rem;
    bottom: @cardH;
    left: (@cardW + 1rem);
    right: 0;
    overflow-y: auto;
    overflow-x: hidden;
    .inner {
      flex-wrap: nowrap;
      flex: 1 0 @cardH;
      border: none;
      width: 100%;    
    }
    .drop-slot {
      .card-container {transform: scale(.9);}
    }
    .bottom {
      height: 3rem;
      background: linear-gradient(rgba(0,0,0,0.2),rgba(0,0,0,0.5));
    }
  }
}